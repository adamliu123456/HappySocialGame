# HappySocialGame（社交对战游戏 MVP）

这是一个基于你给出的原型建议实现的**可运行最小版本（MVP）**，优先落地：

- 原型B：异步回合“棋盘突袭”（2人）
- 社交系统最小闭环：好友、公会、回放事件
- 排位系统最小闭环：Elo（1v1）+ TrueSkillLite（可扩展多人）

## 为什么先做原型B

相比高实时方案，回合/异步对战在首年验证阶段有明显优势：

1. 网络同步与反作弊压力更低
2. 能更快验证匹配、留存与社交裂变
3. 便于逐步扩展到公会赛季（原型E）

## 当前功能

### 1) 回合战斗引擎（`social_game/engine.py`）
- 5x5 棋盘
- 两类单位：`SCOUT`、`BRUISER`
- 每回合双方各提交一个行动（移动 + 可选技能加伤）
- 自动结算：伤害、死亡清理、占点击分、胜负判定

### 2) 排位系统（`social_game/rating.py`）
- `EloRating`：适合早期 1v1 快速更新
- `TrueSkillLite`：用于后续多人/组队扩展的轻量近似

### 3) 社交系统（`social_game/social.py`）
- 好友关系
- 公会创建与加人
- 对局事件回放存储

### 4) 演示入口（`main.py`）
- 自动模拟一局对战
- 输出回合事件与棋盘快照
- 对局结束后演示 Elo 评分更新

## 快速启动

```bash
python3 main.py
```

## 下一步建议（可继续开发）

1. **协议化**：将 `PlayerAction` 与 `snapshot` 改为可序列化的 API 协议（REST/WebSocket）。
2. **异步局模型**：支持“离线提交回合 + 推送通知 + 超时托管AI”。
3. **赛季化目标**：加入周任务/战斗通行证，并保持纯外观不影响公平。
4. **多人扩展**：扩展 `TrueSkillLite` 为多实体排名，支持 2v2 / 4人房。
5. **回放与观战**：从事件流升级为可重演帧数据，支持分享链接。

## 商业化与合规提醒

- MVP 阶段建议保持“付费不影响数值公平”，优先皮肤、表情、棋盘、赛季通行证。
- 如引入任何随机付费产出（抽取），应在发行地区严格执行概率披露与未成年人保护要求。
